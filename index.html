<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body>div {
            height: 100vh;
        }

        #animationWindow {
            width: 500px;
            height: 400px;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <div></div>

        <div id="animationWindow"></div>

    <div>

        <!-- lottie í™•ìž¥ëª… : ìš©ëŸ‰ì´ ìž‘ë‹¤ëŠ” ìž¥ì ì´ ìžˆìœ¼ë‚˜, lottie(í™•ìž¥ëª…)ì´ ì˜¤ë¥˜ê°€ ìžˆë‹¤ëŠ” ë‹¨ì ì´ ìžˆë‹¤. -->
        <dotlottie-player src="./lottie.lottie" background="transparent" speed="1" style="width: 300px; height: 300px;"
            loop autoplay></dotlottie-player>
        <!-- json í™•ìž¥ëª… : lottieì— ë¹„í•´ ìš©ëŸ‰ì´ í¬ë‹¤ëŠ” ìž¥ì ì´ ìžˆìœ¼ë‚˜, .lottie(í™•ìž¥ëª…)ë³´ë‹¤ëŠ” ì˜¤ë¥˜ê°€ ëœí•˜ë‹¤. -->
        <lottie-player src="./lottie.json" background="transparent" speed="1" style="width: 300px; height: 300px"
            direction="1" mode="normal" autoplay loop></lottie-player>

        <!-- autoplay, loop, hover, controls ì˜ ì†ì„±ì„ ì¤„ ìˆ˜ ìžˆë‹¤. -->
        <!-- hoverë§Œ ë‹¨ë…ìœ¼ë¡œ ì£¼ë©´ í•œë²ˆë§Œ ì‹¤í–‰ì´ ë˜ê³  hoverì™€ loopë¥¼ ì£¼ë©´ ë°˜ë³µí•˜ì—¬ hoverë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. -->
        <!-- ê°„í˜¹ hoverë§Œ ì‚¬ìš©í•˜ë©´ ë°˜ë³µí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ê²½ìš°ë„ ìžˆìœ¼ë‚˜, loopë¥¼ ì£¼ë©´ ê·¸ ì˜¤ë¥˜ë¥¼ ì—†ì•¨ ìˆ˜ ìžˆë‹¤.-->
        <dotlottie-player src="./lottie.json" background="transparent" speed="1" style="width: 300px; height: 300px;"
            hover loop></dotlottie-player>
    </div>

        <div id="animationWindow2"></div>


    <!-- ðŸŒŸðŸŒŸðŸŒŸ ë¬´ì¡°ê±´ gsapê³¼ scrolltriggerê°€ ìƒë‹¨ì— ìžˆì–´ì•¼ ë¨¼ì € íŒŒì¼ì„ ì½ê³  ì•„ëž˜ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìžˆë‹¤. -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>


    <!-- lottie ì‹¤í–‰ì‹œí‚¤ê¸° -->
    <!-- <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script> -->

    <!-- json ì‹¤í–‰ì‹œí‚¤ê¸° ðŸŒŸðŸŒŸðŸŒŸ lottieëŠ” ì˜¤ë¥˜ê°€ ë§Žì•„ json ê¶Œìž¥ -->
    <!-- ìžì²´ ì‹¤í–‰, hover ì‹¤í–‰ -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- lottie cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>


    <script>
        gsap.registerPlugin(ScrollTrigger)

        LottieScrollTrigger({
            target: "#animationWindow",
            path: "./diamond.json",
            speed: "medium",
            scrub: 2,
        });
        LottieScrollTrigger({
            target: "#animationWindow2",
            path: "./hello.json",
            speed: "fast",
            scrub: 2,
        });

        function LottieScrollTrigger(vars) {
            let playhead = {
                    frame: 0
                },
                target = gsap.utils.toArray(vars.target)[0],
                speeds = { // lottieì˜ ì†ë„
                    slow: "+=2000",
                    medium: "+=1000",
                    fast: "+=500"
                },
                st = {
                    trigger: target,
                    pin: true,
                    start: "top top",
                    end: speeds[vars.speed] || "+=1000", // lottieì˜ ëë‚˜ëŠ” ì§€ì 
                    scrub: 1,
                },
                ctx = gsap.context && gsap.context(),
                animation = lottie.loadAnimation({
                    container: target,
                    renderer: vars.renderer || "svg",
                    loop: false,
                    autoplay: false,
                    path: vars.path,
                    rendererSettings: vars.rendererSettings || {
                        preserveAspectRatio: "xMidYMid slice",
                    },
                });
            for (let p in vars) {
                // let users override the ScrollTrigger defaults
                st[p] = vars[p];
            }
            animation.addEventListener("DOMLoaded", function () {
                let createTween = function () {
                    animation.frameTween = gsap.to(playhead, {
                        frame: animation.totalFrames - 1,
                        ease: "none",
                        onUpdate: () => animation.goToAndStop(playhead.frame, true),
                        scrollTrigger: st,
                    });
                    return () => animation.destroy && animation.destroy();
                };
                ctx && ctx.add ? ctx.add(createTween) : createTween();
                // in case there are any other ScrollTriggers on the page and the loading of this Lottie asset caused layout changes
                ScrollTrigger.sort();
                ScrollTrigger.refresh();
            });
            return animation;
        }
    </script>
</body>

</html>